'use strict';

window.addEventListener('DOMContentLoaded', () => {
    const body = document.querySelector('body'),
          iconMenu = document.querySelector('.icon-menu'),
          menuBody = document.querySelector('.menu__body');

    iconMenu.addEventListener('click', () => {
        iconMenu.classList.toggle('active');
        menuBody.classList.toggle('active');
        body.classList.toggle('lock');
    });

// *================================================
    const doc = document.documentElement,
          header = document.querySelector('.header');

    let prevScroll = window.scrollY || doc.scrollTop;
    let curScroll;
    let direction = 0;
    let prevDirection = 0;


    
    let checkScroll = function () {
        curScroll = window.scrollY || doc.scrollTop;
        if (curScroll > prevScroll) {
            direction = 2;
        } else if (curScroll < prevScroll) {
            direction = 1;
        }

        if (direction !== prevDirection) {
            toggleHeader(direction, curScroll);
        }

        prevScroll = curScroll;
    };

    let toggleHeader = function (direction, curScroll) {
        if (direction === 2 && curScroll > 60) {
            header.classList.add('nav-up');
            prevDirection = direction;
        } else if (direction === 1) {
            header.classList.remove('nav-up');
            prevDirection = direction;
        }
    };

    window.addEventListener('scroll', checkScroll);
});